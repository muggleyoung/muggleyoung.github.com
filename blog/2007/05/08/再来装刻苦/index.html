
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>再来装刻苦 - </title>
	<meta name="author" content="muggleyoung">

	
	<meta name="description" content="&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#22909;&#20037;&#19981;&#20889;&#31243;&#24207;&#20102;,&#19968;&#19979;&#19981;&#36866;&#24212;,&# &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/"></a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:muggleyoung.github.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:muggleyoung.github.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner"><article class="post">
	<h2 class="title">再来装刻苦</h2>
	<div class="entry-content"><p>
                                    <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#22909;&#20037;&#19981;&#20889;&#31243;&#24207;&#20102;,&#19968;&#19979;&#19981;&#36866;&#24212;,&#24403;&#21021;&#20889;&#36825;&#20960;&#20010;&#23567;&#19996;&#35199;&#24046;&#28857;&#27809;&#25226;&#25105;&#32473;&#32047;&#27515;.&#26368;&#21518;&#19968;&#20010;&#36824;&#32422;&#31561;&#20110;copy&#30340;,&#20002;&#33080;&#21834;&#8230;.&#19981;&#36807;&#25423;,&#36763;&#33510;&#37027;&#20040;&#20037;,&#23454;&#39564;&#25253;&#21578;&#36148;&#20986;&#26469;&#26194;&#26194;&#20063;&#26159;&#24212;&#35813;&#30340;&#22043;&#8230;&#25105;&#33080;&#30382;&#21402;&#8230;.&#160;</p>
<p><b><span>&#23454;&#39564;&#19968; &#29087;&#24713;&#25805;&#20316;&#31995;&#32479;&#23454;&#39564;&#29615;&#22659;</span></b></p>
<p><b><span lang="EN-US"><span>&#19968;.<span>&#160;</span></span></span></b><b><span>&#23454;&#39564;&#30446;&#30340;</span></b></p>
<p><b><span>&#25484;&#25569;&#25805;&#20316;&#31995;&#32479;&#23454;&#39564;&#24179;&#21488;&#30340;&#20351;&#29992;&#65307;</span></b></p>
<p><b><span>&#29087;&#24713;&#24120;&#29992;&#21629;&#20196;<span lang="EN-US">/</span>&#31995;&#32479;&#21151;&#33021;&#35843;&#29992;&#21015;&#34920;&#65307;</span></b></p>
<p><b><span>&#31243;&#24207;&#21457;&#24037;&#20855;&#65306;&#32534;&#36753;&#12289;&#32534;&#35793;&#12289;&#36830;&#25509;&#12289;&#35843;&#35797;&#65307;</span></b></p>
<p><b><span lang="EN-US">Shell</span></b><b><span>&#65288;<span lang="EN-US">Linux</span>&#65289;&#30340;&#20351;&#29992;&#65307;</span></b></p>
<p><b><span lang="EN-US"><span>&#20108;.<span>&#160;</span></span></span></b><b><span>&#23454;&#39564;&#20869;&#23481;</span></b></p>
<p><b><span>&#24120;&#29992;&#21629;&#20196;<span lang="EN-US">/</span>&#31995;&#32479;&#35843;&#29992;&#65307;</span></b></p>
<p><b><span>&#22806;&#23384;&#30446;&#24405;&#26641;&#32467;&#26500;&#65307;</span></b></p>
<p><b><span lang="EN-US">Vi,ed</span></b><b><span>&#30340;&#20351;&#29992;&#65292;&#33719;&#24471;&#24110;&#21161;&#20449;&#24687;&#21644;&#25216;&#26415;&#36164;&#26009;&#65307;</span></b></p>
<p><b><span>&#32534;&#20889;<span lang="EN-US">Shell</span>&#31243;&#24207;</span></b></p>
<p><b><span lang="EN-US"><span>&#19977;.<span>&#160;</span></span></span></b><b><span>&#23454;&#39564;&#35828;&#26126;</span></b></p>
<p><span lang="EN-US">1</span><b><span>&#65294;&#20160;&#20040;&#26159;<span lang="EN-US">shell </span></span></b></p>
<p><b><span lang="EN-US">shell</span></b><b><span>&#26159;&#19968;&#20010;&#21629;&#20196;&#34892;&#35299;&#37322;&#22120;&#65292;&#25552;&#20379;&#25805;&#20316;&#31995;&#32479;&#26680;&#24515;&#65288;&#31216;&#20026;<span lang="EN-US">keinel</span>&#65289;&#19982;&#29992;&#25143;&#20043;&#38388;&#36827;&#34892;&#20132;&#20114;&#12290;&#23427;&#20174;&#29992;&#25143;&#30331;&#24405;&#36215;&#23601;&#24320;&#22987;&#36816;&#34892;&#65292;&#20801;&#35768;&#29992;&#25143;&#36890;&#36807;<span lang="EN-US">shell</span>&#33050;&#26412;&#25110;&#32773;&#21629;&#20196;&#34892;&#30340;&#26041;&#24335;&#36755;&#20837;&#21629;&#20196;&#65292;&#24182;&#36890;&#36807;&#32763;&#35793;&#36825;&#20123;&#21629;&#20196;&#23436;&#25104;&#29992;&#25143;&#19982;<span lang="EN-US">kernel</span>&#20043;&#38388;&#30340;&#20132;&#20114;&#12290;&#24403;&#29992;&#25143;&#22312;&#32456;&#31471;&#36755;&#20837;&#19968;&#26465;&#21629;&#20196;&#26102;&#65292;<span lang="EN-US">shell</span>&#20250;&#20197;&#22914;&#19979;&#30340;&#26041;&#24335;&#21709;&#24212;&#65306;&#39318;&#20808;&#35299;&#26512;&#21629;&#20196;&#34892;&#65292;&#24182;&#22788;&#29702;&#36890;&#37197;&#31526;&#12289;&#37325;&#26032;&#23450;&#21521;&#12289;&#31649;&#36947;&#21644;&#20316;&#19994;&#25511;&#21046;&#65292;&#28982;&#21518;&#65292;&#25628;&#32034;&#22806;&#37096;&#21629;&#20196;&#65292;&#22914;&#26524;&#25214;&#21040;&#23601;&#25191;&#34892;&#23427;&#12290;<span lang="EN-US"> </span></span></b></p>
<p><b><span>&#21487;&#20197;&#20351;&#29992;&#19979;&#38754;&#36825;&#20010;&#21629;&#20196;&#26597;&#30475;<span lang="EN-US">shell</span>&#65306;&#65283;<span lang="EN-US">echo $SHELL </span></span></b></p>
<p><b><span lang="EN-US">2</span></b><b><span>&#65294;&#20851;&#20110;<span lang="EN-US">vi </span>&#65306;&#21551;&#21160;<span lang="EN-US">vi</span>&#32534;&#36753;&#22120;&#65292;&#40664;&#35748;&#36827;&#20837;&#21629;&#20196;&#27169;&#24335;&#65307;&#22312;&#25991;&#26412;&#36755;&#20837;&#27169;&#24335;&#19979;&#65292;&#21487;&#20197;&#25353;<span lang="EN-US">[ESC]</span>&#38190;&#20999;&#25442;&#21040;&#21629;&#20196;&#27169;&#24335;&#12290;&#22312;&#36825;&#31181;&#27169;&#24335;&#19979;&#65292;&#29992;&#25143;&#21487;&#36827;&#34892;&#21508;&#31181;&#25805;&#20316;</span></b></p>
<p><b><span lang="EN-US">vi</span></b><b><span>&#32534;&#36753;&#22120;&#30340;&#36864;&#20986;&#21629;&#20196;&#30340;&#35299;&#37322;&#65306;<span lang="EN-US"> </span></span></b></p>
<p><b><span lang="EN-US">wq</span></b><b><span>&#65306;&#29992;&#25143;&#22312;&#32534;&#36753;&#32467;&#26463;&#26102;&#65292;&#21487;&#29992;&#27492;&#21629;&#20196;&#26469;&#20445;&#23384;&#25991;&#20214;&#65292;&#28982;&#21518;&#36864;&#20986;<span lang="EN-US">vi</span>&#12290;<span lang="EN-US"> </span></span></b></p>
<p><b><span lang="EN-US">w</span></b><b><span>&#65306;&#22312;&#32534;&#36753;&#38271;&#25991;&#20214;&#26102;&#65292;&#21487;&#29992;&#27492;&#21629;&#20196;&#26469;&#23450;&#26399;&#20445;&#23384;&#25991;&#20214;&#20869;&#23481;&#12290;<span lang="EN-US"> </span></span></b></p>
<p><b><span lang="EN-US">q</span></b><b><span>&#65306;&#33509;&#29992;&#25143;&#21482;&#26159;&#35835;&#25991;&#20214;&#32780;&#26410;&#20462;&#25913;&#65292;&#21487;&#29992;&#27492;&#21629;&#20196;&#26469;&#36864;&#20986;&#65292;&#33509;&#24050;&#36827;&#34892;&#20462;&#25913;&#65292;&#21017;&#21482;&#33021;&#36873;&#25321;<span lang="EN-US">q!</span>&#26469;&#25918;&#24323;&#25152;&#20316;&#30340;&#20462;&#25913;&#65288;&#27492;&#26102;&#28304;&#25991;&#20214;&#19981;&#21464;&#65289;&#25110;<span lang="EN-US">wq</span>&#65288;&#28304;&#25991;&#20214;&#21457;&#29983;&#25913;&#21464;&#65289;&#26469;&#36864;&#20986;<span lang="EN-US">vi</span>&#12290;<span lang="EN-US"> </span></span></b></p>
<p><b><span>&#29992;&#25143;&#35201;&#36864;&#20986;<span lang="EN-US">vi</span>&#26102;&#65292;&#39318;&#20808;&#35201;&#30830;&#20445;&#22238;&#21040;&#21629;&#20196;&#27169;&#24335;&#65288;&#25353;<span lang="EN-US">[ESC]</span>&#65289;&#65292;&#28982;&#21518;&#20877;&#25353;&#20882;&#21495;&#65288;&#65306;&#65289;&#65292;&#20877;&#36755;&#20837;&#21508;&#31181;&#36864;&#20986;<span lang="EN-US">vi</span>&#30340;&#21629;&#20196;&#12290; </span></b></p>
<p><b><span lang="EN-US">shell </span></b><b><span>&#31243;&#24207;&#35774;&#35745;&#35828;&#26126;</span></b></p>
<p><b><span lang="EN-US">1, </span></b><b><span>&#21512;&#24182;&#20004;&#20010;<span lang="EN-US">$1 $2, </span>&#25991;&#20214;&#20026;<span lang="EN-US">$3, </span>&#24182;&#26174;&#31034;<span lang="EN-US">,</span></span></b></p>
<p><b><span lang="EN-US">2, </span></b><b><span>&#22914;&#26524;&#32570;&#23569;<span lang="EN-US">$3, </span>&#37027;&#20040;&#25253;&#21578;&#32570;&#23569;<span lang="EN-US">$3,</span>&#24182;&#23558;&#21512;&#24182;&#21518;&#20869;&#23481;&#36755;&#20986;&#21040;<span lang="EN-US">example.txt</span>&#20013;&#26174;&#31034;</span></b></p>
<p><b><span lang="EN-US">3, </span></b><b><span>&#22914;&#26524;&#32570;&#23569;<span lang="EN-US">$2, $3, </span>&#37027;&#20040;&#20808;&#25253;&#21578;&#32570;&#23569;<span lang="EN-US">$3, $2, </span>&#21482;&#26174;&#31034;<span lang="EN-US">$1</span>&#30340;&#20869;&#23481;</span></b></p>
<p><b><span lang="EN-US"><span>&#22235;.</span></span></b><b><span>&#31243;&#24207;</span></b></p>
<p><b><span>&#31243;&#24207;&#19968;<span lang="EN-US">:</span></span></b></p>
<p><b><span lang="EN-US">#! /bin/sh</span></b></p>
<p><b><span lang="EN-US">a=&#8221;bonjour Amelie&#8221;</span></b></p>
<p><b><span lang="EN-US">echo &#8220;A is&#8221;</span></b></p>
<p><b><span lang="EN-US">echo $a</span></b></p>
<p><b><span lang="EN-US">*************************************************</span></b></p>
<p><b><span>&#31243;&#24207;&#20108;<span lang="EN-US">:</span></span></b></p>
<p><b><span lang="EN-US">#!/bin/sh</span></b></p>
<p><b><span lang="EN-US">if [ $# = 1 ]</span></b></p>
<p><b><span lang="EN-US">then </span></b></p>
<p><b><span lang="EN-US">echo &#8220;warning! There is just one file\n&#8221;</span></b></p>
<p><b><span lang="EN-US">cat $1</span></b></p>
<p><b><span lang="EN-US">elif [ $# = 2 ]</span></b></p>
<p><b><span lang="EN-US">then</span></b></p>
<p><b><span lang="EN-US">echo &#8220;warning! There are just two files\n&#8221;<span>&#160;&#160; </span></span></b></p>
<p><b><span lang="EN-US">cat $1 $2 &gt; example.txt<span> </span></span></b></p>
<p><b><span lang="EN-US">cat example.txt</span></b></p>
<p><b><span lang="EN-US">elif [ $# = 3 ]</span></b></p>
<p><b><span lang="EN-US">then </span></b></p>
<p><b><span lang="EN-US">cat $1 $2 &gt; $3</span></b></p>
<p><b><span lang="EN-US">cat $3</span></b></p>
<p><b><span lang="EN-US">fi</span></b></p>
<p><b><span lang="EN-US">exit 0</span></b></p>
<p><b><span lang="EN-US">****************************************************</span></b></p>
<p><b><span lang="EN-US"><span>&#20116;.<span> </span></span></span></b><b><span>&#36816;&#34892;&#32467;&#26524;</span></b></p>
<p><b><span>&#31243;&#24207;&#19968;&#25991;&#20214;&#21517;&#20445;&#23384;&#20026;<span lang="EN-US">test1</span></span></b></p>
<p><b><span>&#32456;&#31471;&#36755;&#20837;&#21629;&#20196;<span lang="EN-US">:<span>&#160; </span>chmod<span>&#160; </span>+x<span>&#160; </span>test1</span></span></b></p>
<p><b><span>&#25191;&#34892;<span lang="EN-US">: ./ test1</span></span></b></p>
<p><b><span>&#25191;&#34892;&#32467;&#26524;&#20026;<span lang="EN-US">:</span></span></b></p>
<p><b><span lang="EN-US">A is </span></b></p>
<p><b><span lang="EN-US">bonjour Amelie</span></b></p>
<p><b><span>&#31243;&#24207;&#20108;&#25991;&#20214;&#21517;&#20445;&#23384;&#20026;<span lang="EN-US">test2</span></span></b></p>
<p><b><span>&#25991;&#20214;<span lang="EN-US">s1</span>&#20869;&#23481;&#20026;<span lang="EN-US">: je suis</span></span></b></p>
<p><b><span>&#25991;&#20214;<span lang="EN-US">s2</span>&#20869;&#23481;&#20026;<span lang="EN-US">: le loire.</span></span></b></p>
<p><b><span>&#32456;&#31471;&#36755;&#20837;&#21629;&#20196;<span lang="EN-US">:<span>&#160; </span>chmod<span>&#160; </span>+x<span>&#160; </span>test2 s1 s2</span></span></b></p>
<p><b><span>&#25191;&#34892;<span lang="EN-US">: ./ test2</span></span></b></p>
<p><b><span>&#25191;&#34892;&#32467;&#26524;&#20026;<span lang="EN-US">:</span></span></b></p>
<p><b><span lang="EN-US">je suis</span></b></p>
<p><b><span lang="EN-US">le loire</span></b></p>
<p><b><span>&#23454;&#39564;&#20108; &#36827;&#31243;&#30340;&#21019;&#24314;</span></b></p>
<p><b><span>&#19968;<span lang="EN-US">.</span>&#23454;&#39564;&#30446;&#30340;</span></b></p>
<p><b><span>&#21152;&#28145;&#23545;&#36827;&#31243;&#27010;&#24565;&#30340;&#29702;&#35299;&#65292;&#26126;&#30830;&#36827;&#31243;&#21644;&#31243;&#24207;&#30340;&#21306;&#21035;</span></b></p>
<p><b><span>&#36827;&#19968;&#27493;&#35748;&#35782;&#24182;&#21457;&#25191;&#34892;&#30340;&#23454;&#36136;</span></b></p>
<p><b><span>&#20998;&#26512;&#36827;&#31243;&#31454;&#20105;&#36164;&#28304;&#30340;&#29616;&#35937;&#65292;&#23398;&#20064;&#35299;&#20915;&#36827;&#31243;&#20114;&#26021;&#30340;&#26041;&#27861;</span></b></p>
<p><b><span>&#21019;&#24314;&#36827;&#31243;&#21450;&#23376;&#36827;&#31243;</span></b></p>
<p><b><span>&#20102;&#35299;&#29238;&#23376;&#36827;&#31243;&#38388;&#36890;&#20449;&#30340;&#23454;&#29616;&#26041;&#27861;</span></b></p>
<p><b><span>&#20108;<span lang="EN-US">. </span>&#23454;&#39564;&#20869;&#23481;</span></b></p>
<p><b><span lang="EN-US">(1)</span></b><b><span>&#20102;&#35299;&#31995;&#32479;&#35843;&#29992;<span lang="EN-US">fork()</span>&#12289;<span lang="EN-US">exec()</span>&#12289;<span lang="EN-US">exit()</span>&#31561;&#21151;&#33021;&#21644;&#23454;&#29616;&#36807;&#31243;&#65307;</span></b></p>
<p><b><span lang="EN-US">(2)</span></b><b><span>&#32534;&#20889;&#19968;&#27573;&#31243;&#24207;&#65292;&#20351;&#29992;&#31995;&#32479;&#35843;&#29992;<span lang="EN-US">fork()</span>&#21019;&#24314;&#20004;&#20010;&#23376;&#36827;&#31243;&#65292;&#30001;&#29238;&#36827;&#31243;&#37325;&#22797;&#26174;&#31034;&#23383;&#31526;&#20018;<span lang="EN-US">parent</span>&#65292;&#23376;&#36827;&#31243;&#37325;&#22797;&#26174;&#31034;&#23383;&#31526;&#20018;<span lang="EN-US">child </span>&#65307;</span></b></p>
<p><b><span lang="EN-US">(3)</span></b><b><span>&#32534;&#20889;&#19968;&#27573;&#31243;&#24207;&#65292;&#20351;&#29992;&#31995;&#32479;&#35843;&#29992;<span lang="EN-US">fork()</span>&#21019;&#24314;&#19968;&#20010;&#23376;&#36827;&#31243;&#65292;&#23376;&#36827;&#31243;&#36890;&#36807;&#31995;&#32479;&#35843;&#29992;</span></b><span lang="EN-US">exec()</span><span>&#26356;</span><b><span>&#25442;&#33258;&#24049;&#30340;&#25191;&#34892;&#20195;&#30721;&#65292;&#26174;&#31034;&#26032;&#30340;&#20195;&#30721;<span lang="EN-US">new program</span>&#65307;&#28982;&#21518;&#35843;&#29992;<span lang="EN-US">exit()</span>&#32467;&#26463;&#12290;</span></b></p>
<p><b><span>&#19977;<span lang="EN-US">.</span>&#23454;&#39564;&#27493;&#39588;</span></b></p>
<p><b><span>&#21019;&#24314;&#36827;&#31243;&#65307;</span></b></p>
<p><b><span>&#26174;&#31034;&#36827;&#31243;&#29366;&#24577;&#20449;&#24687;&#65307;</span></b></p>
<p><b><span>&#23454;&#29616;&#29238;&#23376;&#36827;&#31243;&#36890;&#20449;&#65307;</span></b></p>
<p><b><span>&#22235;<span lang="EN-US">.</span>&#23454;&#39564;&#35828;&#26126;<span lang="EN-US">:</span></span></b></p>
<p><b><span lang="EN-US">fork</span></b><b><span>&#65288;&#65289;</span></b></p>
<p><b><span lang="EN-US">1</span></b><b><span>&#65294;&#30001;<span lang="EN-US">f o r k</span>&#34987;&#35843;&#29992;&#19968;&#27425;&#65292;&#20294;&#36820;&#22238;&#20004;&#27425;&#65292;&#23376;&#36827;&#31243;&#30340;&#36820;&#22238;&#20540;&#26159;<span lang="EN-US">0</span>&#65292;&#32780;&#29238;&#36827;&#31243;&#30340;&#36820;&#22238;&#20540;&#21017;&#26159;&#26032;&#23376;&#36827;&#31243;&#30340;&#36827;&#31243;<span lang="EN-US">I D</span>&#12290;&#23558;&#23376;&#36827;&#31243;<span lang="EN-US">I D</span>&#36820;&#22238;&#32473;&#29238;&#36827;&#31243;&#30340;&#29702;&#30001;&#26159;&#65306;&#22240;&#20026;&#19968;&#20010;&#36827;&#31243;&#30340;&#23376;&#36827;&#31243;&#21487;&#20197;&#22810;&#20110;&#19968;&#20010;&#65292;&#25152;&#20197;&#27809;&#26377;&#19968;&#20010;&#20989;&#25968;&#20351;&#19968;&#20010;&#36827;&#31243;&#21487;&#20197;&#33719;&#24471;&#20854;&#25152;&#26377;&#23376;&#36827;&#31243;&#30340;&#36827;&#31243;<span lang="EN-US">I D</span>&#12290;<span lang="EN-US">f o r k</span>&#20351;&#23376;&#36827;&#31243;&#24471;&#21040;&#36820;&#22238;&#20540;<span lang="EN-US">0</span>&#30340;&#29702;&#30001;&#26159;&#65306;&#19968;&#20010;&#36827;&#31243;&#21482;&#20250;&#26377;&#19968;&#20010;&#29238;&#36827;&#31243;&#65292;&#25152;&#20197;&#23376;&#36827;&#31243;&#24635;&#26159;&#21487;&#20197;&#35843;&#29992;<span lang="EN-US">g e t p p i d</span>&#20197;&#33719;&#24471;&#20854;&#29238;&#36827;&#31243;&#30340;&#36827;&#31243;<span lang="EN-US">I D (</span>&#36827;&#31243;<span lang="EN-US">ID 0</span>&#24635;&#26159;&#30001;&#20132;&#25442;&#36827;&#31243;&#20351;&#29992;&#65292;&#25152;&#20197;&#19968;&#20010;&#23376;&#36827;&#31243;&#30340;&#36827;&#31243;<span lang="EN-US">I D</span>&#19981;&#21487;&#33021;&#20026;<span lang="EN-US">0 )</span>&#12290; </span></b></p>
<p><b><span lang="EN-US">2</span></b><b><span>&#65294;&#19968;&#33324;&#26469;&#35828;&#65292;&#22312;<span lang="EN-US">f o r k</span>&#20043;&#21518;&#26159;&#29238;&#36827;&#31243;&#20808;&#25191;&#34892;&#36824;&#26159;&#23376;&#36827;&#31243;&#20808;&#25191;&#34892;&#26159;&#19981;&#30830;&#23450;&#30340;&#12290;&#36825;&#21462;&#20915;&#20110;&#20869;&#26680;&#25152;&#20351;&#29992;&#30340;&#35843;&#24230;&#31639;&#27861;&#12290;&#22914;&#26524;&#35201;&#27714;&#29238;&#12289;&#23376;&#36827;&#31243;&#20043;&#38388;&#30456;&#20114;&#21516;&#27493;&#65292;&#21017;&#35201;&#27714;&#26576;&#31181;&#24418;&#24335;&#30340;&#36827;&#31243;&#38388;&#36890;&#20449;&#12290;<span lang="EN-US"> </span></span></b></p>
<p><b><span lang="EN-US">3</span></b><b><span>&#65294;&#29238;&#36827;&#31243;&#35774;&#32622;&#30340;&#38145;&#65292;&#23376;&#36827;&#31243;&#19981;&#32487;&#25215;&#12290;<span lang="EN-US"><span>&#160; </span>&#23376;&#36827;&#31243;&#30340;&#26410;&#20915;&#21578;&#35686;&#34987;&#28165;&#38500;&#12290;<span lang="EN-US"><span>&#160; </span>&#23376;&#36827;&#31243;&#30340;&#26410;&#20915;&#20449;&#21495;&#38598;&#35774;&#32622;&#20026;&#31354;&#38598;</span></span></span></b></p>
<p><b><span lang="EN-US">exec( ) </span></b></p>
<p><b><span lang="EN-US">1</span></b><b><span>&#65294;&#29992;<span lang="EN-US">f o r k</span>&#20989;&#25968;&#21019;&#24314;&#23376;&#36827;&#31243;&#21518;&#65292;&#23376;&#36827;&#31243;&#24448;&#24448;&#35201;&#35843;&#29992;&#19968;&#31181;<span lang="EN-US">e x e c</span>&#20989;&#25968;&#20197;&#25191;&#34892;&#21478;&#19968;&#20010;&#31243;&#24207;&#12290;&#24403;&#36827;&#31243;&#35843;&#29992;&#19968;&#31181;<span lang="EN-US">e x e c</span>&#20989;&#25968;&#26102;&#65292;&#35813;&#36827;&#31243;&#23436;&#20840;&#30001;&#26032;&#31243;&#24207;&#20195;&#25442;&#65292;&#32780;&#26032;&#31243;&#24207;&#21017;&#20174;&#20854;<span lang="EN-US">m a i n</span>&#20989;&#25968;&#24320;&#22987;&#25191;&#34892;&#12290;&#22240;&#20026;&#35843;&#29992;<span lang="EN-US">e x e c</span>&#24182;&#19981;&#21019;&#24314;&#26032;&#36827;&#31243;&#65292;&#25152;&#20197;&#21069;&#21518;&#30340;&#36827;&#31243;<span lang="EN-US">I D</span>&#24182;&#26410;&#25913;&#21464;&#12290;<span lang="EN-US">e x e c</span>&#21482;&#26159;&#29992;&#21478;&#19968;&#20010;&#26032;&#31243;&#24207;&#26367;&#25442;&#20102;&#24403;&#21069;&#36827;&#31243;&#30340;&#27491;&#25991;&#12289;&#25968;&#25454;&#12289;&#22534;&#21644;&#26632;&#27573;&#12290;<span lang="EN-US"> </span></span></b></p>
<p><b><span lang="EN-US">2</span></b><b><span>&#65294;&#26377;&#22810;&#31181;&#19981;&#21516;&#30340;<span lang="EN-US">e x e c</span>&#20989;&#25968;&#21487;&#20379;&#20351;&#29992;&#65292;&#23427;&#20204;&#24120;&#24120;&#34987;&#32479;&#31216;&#20026;<span lang="EN-US">e x e c</span>&#20989;&#25968;&#12290;&#36825;&#20123;<span lang="EN-US">e x e c</span>&#20989;&#25968;&#37117;&#26159;&#36827;&#31243;&#25511;&#21046;&#21407;&#35821;&#12290;</span></b></p>
<p><b><span>&#20116;<span lang="EN-US">.</span>&#31243;&#24207;<span lang="EN-US">:</span></span></b></p>
<p><b><span lang="EN-US">//</span></b><b><span>&#20351;&#29992;&#31995;&#32479;&#35843;&#29992;<span lang="EN-US">fork()</span>&#21019;&#24314;&#23376;&#36827;&#31243;<span lang="EN-US">, </span>&#24182;&#26174;&#31034;&#23383;&#31526;&#20018;<span lang="EN-US">, </span></span></b></p>
<p><b><span lang="EN-US">#include &lt;stdio.h&gt;</span></b></p>
<p><b><span lang="EN-US">#include &lt;stdlib.h&gt;</span></b></p>
<p><b><span lang="EN-US">#include &lt;unistd.h&gt;</span></b></p>
<p><b><span lang="EN-US">main()</span></b></p>
<p><b><span lang="EN-US">{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>int pid;</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>while ((pid=fork())==-1);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>if (pid)</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>printf(&#8220;parent process:%d\n&#8221;,getpid());</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>printf(&#8220;produce child process:%d\n&#8221;,pid);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>}</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>else</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>printf(&#8220;child process:%d\n&#8221;,getpid());</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>printf(&#8220;it&#8217;s parents or child:%d\n&#8221;,pid);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>}</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span></span></b></p>
<p><b><span lang="EN-US">}</span></b></p>
<p><b><span lang="EN-US">**************************************</span></b></p>
<p><b><span lang="EN-US">//fork</span></b><b><span>&#21019;&#24314;&#23376;&#36827;&#31243;<span lang="EN-US">, </span>&#36890;&#36807;&#35843;&#29992;<span lang="EN-US">exec()</span>&#26356;&#25442;&#25191;&#34892;&#20195;&#30721;&#26368;&#21518;<span lang="EN-US">exit()</span>&#32467;&#26463;<span lang="EN-US">, </span>&#24182;&#21551;&#29992;<span lang="EN-US">wait()</span>&#21516;&#27493;<span lang="EN-US">,</span></span></b></p>
<p><b><span lang="EN-US">#include &lt;stdio.h&gt;</span></b></p>
<p><b><span lang="EN-US">#include &lt;stdlib.h&gt;</span></b></p>
<p><b><span lang="EN-US">#include &lt;unistd.h&gt;</span></b></p>
<p><b><span lang="EN-US">main( )</span></b></p>
<p><b><span lang="EN-US">{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;</span>int pid;</span></b></p>
<p><b><span lang="EN-US"><span>&#160;</span>while((pid=fork())==-1);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>if(pid)</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span><span>&#160;</span>pid=wait();</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span><span>&#160;</span>printf(&#8220;It is parent process:PID=%d\n&#8221;,getpid());</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span><span>&#160;</span>printf(&#8220;Produce child process:PID=%d\n&#8221;,pid);<span>&#160;&#160; </span></span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>}</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>else</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span><span>&#160;</span>printf(&#8220;It is child process:PID=%d\n&#8221;,getpid());</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span><span>&#160;</span>execve(&#8220;/root/Ymi1&#8221;,NULL,NULL);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span><span>&#160;</span>exit(0);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>}</span></b></p>
<p><b><span lang="EN-US">}</span></b></p>
<p><b><span>&#23454;&#39564;&#19977;<span lang="EN-US"><span>&#160; </span>&#36827;&#31243;&#21516;&#27493;</span></span></b></p>
<p><b><span>&#19968;<span lang="EN-US">.</span>&#23454;&#39564;&#30446;&#30340;</span></b></p>
<p><b><span>&#36890;&#36807;&#35831;&#27714;&#39029;&#24335;&#23384;&#20648;&#31649;&#29702;&#20013;&#39029;&#38754;&#32622;&#25442;&#31639;&#27861;&#27169;&#25311;&#35774;&#35745;&#65292;&#20102;&#35299;&#34394;&#25311;&#23384;&#20648;&#25216;&#26415;&#30340;&#29305;&#28857;&#12290;</span></b></p>
<p><b><span>&#20108;<span lang="EN-US">. </span>&#23454;&#39564;&#20869;&#23481;</span></b></p>
<p><b><span>&#21033;&#29992;&#36890;&#20449;<span lang="EN-US">API</span>&#23454;&#29616;&#36827;&#31243;&#20043;&#38388;&#30340;&#21516;&#27493;&#65306;</span></b></p>
<p><b><span>&#24314;&#31435;&#21496;&#26426;&#21644;&#21806;&#31080;&#21592;&#36827;&#31243;&#65307;</span></b></p>
<p><b><span>&#24182;&#23454;&#29616;&#20182;&#20204;&#38388;&#30340;&#21516;&#27493;&#36816;&#34892;&#12290;</span></b></p>
<p><b><span>&#19977;<span lang="EN-US">. </span>&#23454;&#39564;&#27493;&#39588;</span></b></p>
<p><b><span>&#21019;&#24314;&#36827;&#31243;&#65307;</span></b></p>
<p><b><span>&#23454;&#29616;&#21516;&#27493;&#25805;&#20316;&#25110;&#20989;&#25968;&#65307;</span></b></p>
<p><b><span>&#23454;&#29616;&#20844;&#20849;&#27773;&#36710;&#21496;&#26426;&#21644;&#21806;&#31080;&#21592;&#24320;&#20851;&#36710;&#38376;&#21450;&#34892;&#36710;&#36816;&#34892;&#36807;&#31243;&#30340;&#21516;&#27493;&#27169;&#22411;&#65307;</span></b></p>
<p><b><span>&#26174;&#31034;&#21516;&#27493;&#36816;&#34892;&#30340;&#32467;&#26524;&#12290;</span></b></p>
<p><b><span>&#22235;<span lang="EN-US">.</span>&#23454;&#39564;&#35828;&#26126;<span lang="EN-US">:</span></span></b></p>
<p><b><span>&#65288;<span lang="EN-US">1</span>&#65289; &#20302;&#32423;&#36890;&#20449;&#21644;&#39640;&#32423;&#36890;&#20449;</span></b></p>
<p><b><span>&#20302;&#32423;&#36890;&#20449;<span lang="EN-US">:</span>&#21482;&#33021;&#20256;&#36882;&#29366;&#24577;&#21644;&#25972;&#25968;&#20540;</span></b></p>
<p><b><span>&#39640;&#32423;&#36890;&#20449;<span lang="EN-US">:</span>&#33021;&#22815;&#20256;&#36882;&#22823;&#25209;&#37327;&#30340;&#25968;&#25454;</span></b></p>
<p><b><span>&#65288;<span lang="EN-US">2</span>&#65289;&#30452;&#25509;&#36890;&#20449;&#21644;&#39640;&#32423;&#36890;&#20449;</span></b></p>
<p><b><span>&#30452;&#25509;&#36890;&#20449;<span lang="EN-US">:</span>&#20449;&#24687;&#30001;&#21457;&#36865;&#26041;&#20256;&#36882;&#32473;&#25509;&#21463;&#26041;&#65307;</span></b></p>
<p><b><span>&#38388;&#25509;&#36890;&#20449;<span lang="EN-US">:</span>&#23558;&#25910;&#21457;&#21452;&#26041;&#36827;&#31243;&#20043;&#22806;&#30340;&#20849;&#20139;&#25968;&#25454;&#32467;&#26500;&#20316;&#20026;&#36890;&#20449;&#20013;&#36716;<span lang="EN-US">,</span>&#23454;&#29616;&#36890;&#20449;<span lang="EN-US">.</span></span></b></p>
<p><b><span>&#23454;&#29616;&#24605;&#24819;</span></b></p>
<p><b><span>&#22312;&#39640;&#32423;&#35821;&#35328;&#20013;&#65292;&#30001;&#31243;&#24207;&#21592;&#32534;&#20889;&#30340;&#23376;&#31243;&#24207;&#65292;&#24403;&#27492;&#23376;&#31243;&#24207;&#34987;&#25805;&#20316;&#31995;&#32479;&#35843;&#29992;&#26102;&#21487;&#20197;&#35748;&#20026;&#26159;&#19968;&#20010;&#36827;&#31243;&#65292;&#21516;&#29702;&#65292;&#24403;&#20004;&#20010;&#23376;&#31243;&#24207;&#21516;&#26102;&#34987;&#25805;&#20316;&#31995;&#32479;&#35843;&#29992;&#26102;&#65292;&#21487;&#20197;&#35748;&#20026;&#27492;&#26102;&#26377;&#20004;&#20010;&#36827;&#31243;&#12290;&#32780;&#36827;&#31243;&#20043;&#38388;&#30340;&#30456;&#20114;&#35843;&#29992;&#23601;&#21487;&#20197;&#35748;&#20026;&#26159;&#20004;&#20010;&#23376;&#31243;&#24207;&#20043;&#38388;&#30340;&#30456;&#20114;&#35843;&#29992;&#12290;&#21516;&#26102;&#65292;&#34987;&#35843;&#29992;&#30340;&#23376;&#31243;&#24207;&#21487;&#20197;&#35748;&#20026;&#26159;&#23376;&#36827;&#31243;&#65292;&#32780;&#35843;&#29992;&#30340;&#37027;&#20010;&#23376;&#31243;&#24207;&#21017;&#21487;&#20197;&#34987;&#35748;&#20026;&#26159;&#29238;&#36827;&#31243;&#12290;&#20197;&#19979;&#23601;&#26159;&#27492;&#24605;&#24819;&#30340;&#32534;</span></b></p>
<p><b><span>&#31243;<span lang="EN-US">) </span>&#12290;</span></b></p>
<p><b><span>&#20116;<span lang="EN-US">.</span>&#31243;&#24207;<span lang="EN-US">:</span></span></b></p>
<p><b><span>&#23454;&#29616;&#20844;&#20849;&#27773;&#36710;&#21496;&#26426;&#21644;&#21806;&#36135;&#21592;&#30340;&#24320;&#20851;&#36710;&#38376;&#20197;&#21450;&#34892;&#36710;&#36816;&#34892;&#21516;&#27493;</span></b></p>
<p><b><span lang="EN-US">#include &lt;unistd.h&gt;</span></b></p>
<p><b><span lang="EN-US">#include &lt;stdio.h&gt;</span></b></p>
<p><b><span lang="EN-US">main()</span></b></p>
<p><b><span lang="EN-US">{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>int drv_cus[2];</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>int cus_drv[2];</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>int pid;</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>char *buf1,*buf2;</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>pipe(drv_cus);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>pipe(cus_drv);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>if ( (pid=fork())&gt;0 )</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>run();</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>stop();</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>close(drv_cus[0]);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>write(drv_cus[1],buf1,sizeof(buf1));</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>close(cus_drv[1]);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>read(cus_drv[0],buf2,sizeof(buf2));</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>run();</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>exit(0);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>}</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>else</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>sell();</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>close(drv_cus[1]);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>read(drv_cus[0],buf1,sizeof(buf1));</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>geton();</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>getoff();</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>close(cus_drv[0]);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>write(cus_drv[1],buf2,sizeof(buf2));</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160;&#160;&#160;&#160; </span>exit(0);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>}</span></b></p>
<p><b><span lang="EN-US">}</span></b></p>
<p><b><span lang="EN-US">run( )</span></b></p>
<p><b><span lang="EN-US">{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>printf(&#8220;The car is running.\n&#8221;);</span></b></p>
<p><b><span lang="EN-US">}</span></b></p>
<p><b><span lang="EN-US">stop( )</span></b></p>
<p><b><span lang="EN-US">{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>printf(&#8220;The car stopped.\n&#8221;);</span></b></p>
<p><b><span lang="EN-US">}</span></b></p>
<p><b><span lang="EN-US">sell( )</span></b></p>
<p><b><span lang="EN-US">{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>printf(&#8220;conductor sells tickets.\n&#8221;);</span></b></p>
<p><b><span lang="EN-US">}</span></b></p>
<p><b><span lang="EN-US">geton( )</span></b></p>
<p><b><span lang="EN-US">{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>printf(&#8220;open the door.\n&#8221;);</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>printf(&#8220;passenagers off.\n&#8221;);</span></b></p>
<p><b><span lang="EN-US">}</span></b></p>
<p><b><span lang="EN-US">getoff( )</span></b></p>
<p><b><span lang="EN-US">{</span></b></p>
<p><b><span lang="EN-US"><span>&#160;&#160;&#160; </span>printf(&#8220;passenagers on.\n&#8221;);</span></b></p>
<p><b><span lang="EN-US"><spa ... class="clear"></spa></span></b></p></p>
</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-05-08T00:00:00+08:00" pubdate data-updated="true">May 8<span>th</span>, 2007</time></div>
	<div class="tags">

</div>
	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    muggleyoung

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>